utility functions for the software version 3